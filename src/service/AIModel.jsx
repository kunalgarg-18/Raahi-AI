import { GoogleGenerativeAI } from "@google/generative-ai";

  const apiKey = import.meta.env.VITE_GOOGLE_AI_API_KEY;
  const genAI = new GoogleGenerativeAI(apiKey);
  
  const model = genAI.getGenerativeModel({
    model: "gemini-1.5-flash",
  });
  
  const generationConfig = {
    temperature: 1,
    topP: 0.95,
    topK: 64,
    maxOutputTokens: 8192,
    responseMimeType: "application/json",
  };
  
 
    export const chatSession = model.startChat({
      generationConfig,
   
      history: [
        {
          role: "user",
          parts: [
            {text: "Generate Travel plan for location: Las Vegas, for 3 days for couple with a cheap budget, give me hotels options list with HotelName, Hotel address, price, hotel image url, geo coordinates, rating, descriptions and suggest itinerary with placename, place details, place image url, geo coordinates, ticket pricing, time to travel each of the location for 3 days with each day plan with best time to visit in json format."},
          ],
        },
        {
          role: "model",
          parts: [
            {text: "```json\n{\n  \"hotelOptions\": [\n    {\n      \"hotelName\": \"The D Las Vegas\",\n      \"hotelAddress\": \"301 Fremont Street, Las Vegas, NV 89101\",\n      \"price\": \"$50-$100/night\",\n      \"hotelImageUrl\": \"https://images.trvl-media.com/hotels/2000000/1993000/1992800/1992730/1992730_179.jpg\",\n      \"geoCoordinates\": {\n        \"latitude\": 36.1699,\n        \"longitude\": -115.1422\n      },\n      \"rating\": 4.0,\n      \"description\": \"A centrally located casino hotel on Fremont Street with affordable rates and a retro vibe.\"\n    },\n    {\n      \"hotelName\": \"Golden Nugget Las Vegas\",\n      \"hotelAddress\": \"129 E Fremont Street, Las Vegas, NV 89101\",\n      \"price\": \"$70-$150/night\",\n      \"hotelImageUrl\": \"https://images.trvl-media.com/hotels/2000000/1998000/1997800/1997728/1997728_102.jpg\",\n      \"geoCoordinates\": {\n        \"latitude\": 36.1694,\n        \"longitude\": -115.1426\n      },\n      \"rating\": 4.5,\n      \"description\": \"A classic casino hotel on Fremont Street with a large aquarium and a lively atmosphere.\"\n    },\n    {\n      \"hotelName\": \"Circus Circus Hotel & Casino\",\n      \"hotelAddress\": \"2880 Las Vegas Blvd S, Las Vegas, NV 89109\",\n      \"price\": \"$40-$80/night\",\n      \"hotelImageUrl\": \"https://images.trvl-media.com/hotels/2000000/1982000/1981900/1981898/1981898_102.jpg\",\n      \"geoCoordinates\": {\n        \"latitude\": 36.1222,\n        \"longitude\": -115.1721\n      },\n      \"rating\": 3.5,\n      \"description\": \"A family-friendly hotel with a circus theme, affordable rates, and a variety of entertainment options.\"\n    }\n  ],\n  \"itinerary\": [\n    {\n      \"day\": 1,\n      \"plan\": [\n        {\n          \"time\": \"9:00 AM - 12:00 PM\",\n          \"placeName\": \"Fremont Street Experience\",\n          \"placeDetails\": \"A pedestrian mall with a vibrant atmosphere, street performers, and a canopy of lights.\",\n          \"placeImageUrl\": \"https://www.vegasexperience.com/wp-content/uploads/2020/08/Fremont-Street-Experience-Las-Vegas.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1696,\n            \"longitude\": -115.1421\n          },\n          \"ticketPricing\": \"Free\",\n          \"timeToTravel\": \"3 hours\"\n        },\n        {\n          \"time\": \"12:00 PM - 1:30 PM\",\n          \"placeName\": \"The D Las Vegas\",\n          \"placeDetails\": \"A casino on Fremont Street with affordable dining options.\",\n          \"placeImageUrl\": \"https://www.vegasexperience.com/wp-content/uploads/2020/08/Fremont-Street-Experience-Las-Vegas.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1699,\n            \"longitude\": -115.1422\n          },\n          \"ticketPricing\": \"N/A\",\n          \"timeToTravel\": \"1.5 hours\"\n        },\n        {\n          \"time\": \"1:30 PM - 5:00 PM\",\n          \"placeName\": \"Neon Museum\",\n          \"placeDetails\": \"A museum showcasing vintage neon signs from Las Vegas's past.\",\n          \"placeImageUrl\": \"https://www.neonmuseum.org/wp-content/uploads/2019/10/Neon-Museum-Las-Vegas-Main-Entrance.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1734,\n            \"longitude\": -115.1562\n          },\n          \"ticketPricing\": \"$20-$25\",\n          \"timeToTravel\": \"3.5 hours\"\n        },\n        {\n          \"time\": \"5:00 PM - 8:00 PM\",\n          \"placeName\": \"The Mob Museum\",\n          \"placeDetails\": \"A museum exploring the history of organized crime in Las Vegas.\",\n          \"placeImageUrl\": \"https://www.themobmuseum.org/wp-content/uploads/2023/05/mob-museum-exterior-las-vegas-2.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1672,\n            \"longitude\": -115.1435\n          },\n          \"ticketPricing\": \"$25-$30\",\n          \"timeToTravel\": \"3 hours\"\n        }\n      ]\n    },\n    {\n      \"day\": 2,\n      \"plan\": [\n        {\n          \"time\": \"9:00 AM - 11:00 AM\",\n          \"placeName\": \"Bellagio Conservatory & Botanical Garden\",\n          \"placeDetails\": \"A beautiful botanical garden with a variety of themed displays throughout the year.\",\n          \"placeImageUrl\": \"https://www.bellagio.com/content/dam/bellagio/images/conservatory/gallery/2023-03/Conservatory-Botanical-Garden-Spring-2023-03_3718-edit.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1172,\n            \"longitude\": -115.1731\n          },\n          \"ticketPricing\": \"Free\",\n          \"timeToTravel\": \"2 hours\"\n        },\n        {\n          \"time\": \"11:00 AM - 1:00 PM\",\n          \"placeName\": \"The LINQ Promenade\",\n          \"placeDetails\": \"An outdoor shopping, dining, and entertainment promenade with the High Roller observation wheel.\",\n          \"placeImageUrl\": \"https://www.linqvegas.com/wp-content/uploads/2020/05/linq-promenade-exterior-night-lights.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1217,\n            \"longitude\": -115.1723\n          },\n          \"ticketPricing\": \"Free (High Roller tickets $25-$35)\",\n          \"timeToTravel\": \"2 hours\"\n        },\n        {\n          \"time\": \"1:00 PM - 4:00 PM\",\n          \"placeName\": \"Caesar's Palace\",\n          \"placeDetails\": \"A Roman-themed casino hotel with a variety of attractions, including the Forum Shops.\",\n          \"placeImageUrl\": \"https://images.trvl-media.com/hotels/2000000/1982000/1981800/1981777/1981777_102.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1198,\n            \"longitude\": -115.1721\n          },\n          \"ticketPricing\": \"Free\",\n          \"timeToTravel\": \"3 hours\"\n        },\n        {\n          \"time\": \"4:00 PM - 7:00 PM\",\n          \"placeName\": \"Las Vegas Strip\",\n          \"placeDetails\": \"A world-renowned boulevard lined with casinos, hotels, and entertainment venues.\",\n          \"placeImageUrl\": \"https://www.visitlasvegas.com/sites/default/files/styles/hero_slideshow_image/public/2019-03/las-vegas-strip-hero.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1212,\n            \"longitude\": -115.1725\n          },\n          \"ticketPricing\": \"Free\",\n          \"timeToTravel\": \"3 hours\"\n        }\n      ]\n    },\n    {\n      \"day\": 3,\n      \"plan\": [\n        {\n          \"time\": \"9:00 AM - 12:00 PM\",\n          \"placeName\": \"Red Rock Canyon National Conservation Area\",\n          \"placeDetails\": \"A scenic desert landscape with hiking trails and rock formations.\",\n          \"placeImageUrl\": \"https://www.nps.gov/redr/planyourvisit/images/red-rock-canyon-2481-1280x720-jpg.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1645,\n            \"longitude\": -115.2666\n          },\n          \"ticketPricing\": \"$15 per vehicle\",\n          \"timeToTravel\": \"3 hours\"\n        },\n        {\n          \"time\": \"12:00 PM - 2:00 PM\",\n          \"placeName\": \"Hoover Dam\",\n          \"placeDetails\": \"A massive dam and engineering marvel on the Colorado River.\",\n          \"placeImageUrl\": \"https://www.nps.gov/articles/000/hoo-dam-it.htm\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.0048,\n            \"longitude\": -114.7713\n          },\n          \"ticketPricing\": \"Free to walk across the dam, tours available\",\n          \"timeToTravel\": \"2 hours\"\n        },\n        {\n          \"time\": \"2:00 PM - 5:00 PM\",\n          \"placeName\": \"Downtown Container Park\",\n          \"placeDetails\": \"A unique shopping and dining complex made from shipping containers.\",\n          \"placeImageUrl\": \"https://www.downtowncontainerpark.com/wp-content/uploads/2021/07/Downtown-Container-Park-6-1-1024x768.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1686,\n            \"longitude\": -115.1412\n          },\n          \"ticketPricing\": \"Free\",\n          \"timeToTravel\": \"3 hours\"\n        }\n      ]\n    }\n  ]\n}\n```\n\n**Notes:**\n\n* This itinerary assumes a couple with a cheap budget and focuses on free or low-cost attractions.\n* The hotel options are examples, and you can find other budget-friendly hotels in Las Vegas.\n* This itinerary can be adjusted based on your preferences and interests.\n* Remember to check opening hours and ticket prices in advance.\n* This plan does not include transportation. You can use public transportation, ride-sharing services, or rent a car.\n\n**Tips for Saving Money in Las Vegas:**\n\n* **Travel during the off-season:** Avoid peak travel times to get better deals on flights and accommodations.\n* **Look for discounts and deals:** Many attractions offer discounts for advance purchase or group tickets.\n* **Eat at less expensive restaurants:** Las Vegas has a wide range of restaurants, from fine dining to casual eateries.\n* **Drink water instead of alcohol:** Alcohol can be expensive in Las Vegas.\n* **Take advantage of free activities:** There are many free attractions and activities in Las Vegas, such as the Bellagio Conservatory & Botanical Garden, Fremont Street Experience, and the Las Vegas Strip.\n* **Consider staying off the Strip:** Hotels off the Strip typically offer lower rates.\n\nHave a great time in Las Vegas!\n"},
          ],
        },
      ],
    });